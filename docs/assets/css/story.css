/* =========================================
   変数定義（色・レイアウト調整用）
   ========================================= */
:root {
    /* --- ② 色の提案（ライトテーマ） --- */
    --color-bg: #f8f8f8;          /* 背景色: 薄いオフホワイト */
    --color-card-bg: #fff;        /* カードの背景色: 白 */
    --color-text: #333;           /* 本文色: 濃いグレー */
    --color-header-bg: #fff;      /* ヘッダー背景 */
    --color-shadow: rgba(0, 0, 0, 0.08); /* 影の色 */
    
    /* --- ① レイアウト調整変数 --- */
    --section-gap: 3rem;          /* シーン（カード）間の垂直方向の間隔 */
    --card-vertical-padding: 1.5rem; /* カードの上下の余白 */
    --card-horizontal-padding: 1rem; /* カードの左右の余白 */
    --reading-column-width: 45ch; /* 1行の文字数（45文字程度を推奨） */
    --page-max-width: 900px;
}

/* --- ② 色の提案（ダークテーマ：自動適用） --- */
@media (prefers-color-scheme: dark) {
    :root {
        --color-bg: #0d0d0c;        /* 背景色: 墨黒 */
        --color-card-bg: #1c1c1a;   /* カードの背景色: 濃いグレー */
        --color-text: #f0f0f0;      /* 本文色: 白 */
        --color-header-bg: #1c1c1a;
        --color-shadow: rgba(255, 255, 255, 0.05);
    }
}

/* =========================================
   基本リセット
   ========================================= */
html, body {
    /* --- ③ 横スクロールの固定（最優先） --- */
    overflow-x: hidden; 
}

body {
    background-color: var(--color-bg);
    color: var(--color-text);
    font-family: 'Yu Mincho', 'Hiragino Mincho ProN', 'Noto Serif JP', serif;
    line-height: 1.8;
    margin: 0;
    padding: 0;
    overflow-y: auto;
}

/* =========================================
   ヘッダー（ナビゲーション）
   ========================================= */
.story-header {
    background: var(--color-header-bg);
    border-bottom: 1px solid var(--color-shadow); 
    /* ... 既存スタイルを維持 ... */
}

/* =========================================
   本文メインエリア
   ========================================= */
.story-main {
    max-width: var(--page-max-width);
    margin: 0 auto;
    padding: 2rem 1rem;
}

.story-content-flow {
    display: flex;
    flex-direction: column;
    gap: var(--section-gap); /* ① 間隔を変数化 */
}

/* =========================================
   【核心】縦書きブロック (.scene-card)
   ========================================= */
.scene-card {
    display: flex;
    justify-content: flex-end; 
    
    /* ① 余白を変数化 */
    padding: var(--card-vertical-padding) var(--card-horizontal-padding); 
    
    /* ② 色を適用 */
    background: var(--color-card-bg);
    box-shadow: 0 4px 10px var(--color-shadow);
    border-radius: 8px;
}

.scene-card p {
    writing-mode: vertical-rl;
    text-orientation: upright;
    
    height: auto; 
    width: var(--reading-column-width); /* ① 1行の幅を変数化 */

    /* ★★★ ここを修正 ★★★ */
    /* デフォルトの上下マージンを全てリセット */
    margin: 0;

    /* 縦書きの列（段落）の間隔を制御 */
    margin-inline-start: 1.5em; /* 段落間の適切なスペースを確保 */
    margin-block-start: 1em;    /* 1字下げ（縦書きではこのプロパティを使用） */

    line-height: 2.0; 
}
/* pタグが連続する場合の最初の字下げを解除 */
.scene-card p:first-of-type {
    margin-block-start: 0;
}
